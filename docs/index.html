<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>The luakeys package</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>luakeys</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Tables">Tables</a></li>
<li><a href="#Fields">Fields</a></li>
<li><a href="#Local_Functions">Local Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>luakeys</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>luakeys</code></h1>
<p>A naive key value parser written with Lpeg to get rid of kvoptions.</p>
<p><ul>
<li><code>patt<sup>0</sup></code> = <code>expression *</code> (peg.js)</li>
<li><code>patt<sup>1</sup></code> = <code>expression +</code> (peg.js)</li>
<li><code>patt^-1</code> = <code>expression ?</code> (peg.js)</li>
<li><code>patt1 * patt2</code> = <code>expression1 expression2</code> (peg.js) -> Sequence</li>
<li><p><code>patt1 + patt2</code> = <code>expression1 / expression2</code> (peg.js) -> Ordered choice</p></li>
<li><p><a href="https://tug.org/TUGboat/tb40-2/tb125menke-lpeg.pdf">TUGboat article: Parsing complex data formats in LuaTEX with LPEG</a></p></li>
<li><a href="https://github.com/lualatex/lualibs/blob/master/lualibs-util-dim.lua">Dimension handling in lualibs</a></li>
</ul>


<pre>
<span class="keyword">local</span> defintions = {
  <span class="comment">-- data types:
</span>  key_integer = {
    data_type = <span class="string">'integer'</span>,
  },
  <span class="comment">-- 1.1 +1.1 -1.1 11e-02
</span>  key_float = {
    data_type = <span class="string">'float'</span>,
  },
  <span class="comment">-- true: true TRUE yes YES 1, false: false FALSE no NO 0
</span>  key_boolean = {
    data_type = <span class="string">'boolean'</span>,
  },
  key_dimension = {
    data_type = <span class="string">'dimension'</span>,
  },
  keyonly = {
    data_type = <span class="string">'keyonly'</span>
  },
  <span class="comment">-- choices
</span>  key_choices = {
    choices = {<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>}
  },
  <span class="comment">-- complementary
</span>  key_compl = {
    complementary = {<span class="string">'show'</span>, <span class="string">'hide'</span>}
  },
  <span class="comment">-- kas=true -&gt; key_alias_single=true
</span>  key_alias_single = {
    data_type = <span class="string">'boolean'</span>,
    alias = <span class="string">'kas'</span>, <span class="comment">-- String -&gt; single alias
</span>  },
  <span class="comment">-- kam=true or k=true -&gt; key_alias_multiple=true
</span>  key_alias_multiple = {
    data_type = <span class="string">'boolean'</span>,
    alias = { <span class="string">'kam'</span>, <span class="string">'k'</span> }, <span class="comment">-- Table -&gt; multiple aliases (long alias first)
</span>  },
  key_default = {
    data_type = <span class="string">'boolean'</span>,
    default = <span class="keyword">true</span>
  },
  <span class="comment">-- old_key=1 -&gt; new_key=1
</span>  old_key = {
    data_type = <span class="string">'integer'</span>
    rename_key = <span class="string">'new_key'</span>
  }
  <span class="comment">-- key_overwrite_value=1 -&gt; key_overwrite_value=2
</span>  key_overwrite_value = {
    data_type = <span class="string">'integer'</span>
    overwrite_value = <span class="number">2</span>
  }
}
</pre>
</p>


<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#patterns">patterns</a></td>
	<td class="summary">Data type patterens uncaptured</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#captures">captures</a></td>
	<td class="summary">Captured data types
 patt / function
 Creates a function capture.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Pattern">Pattern</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-p">lpeg.P</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Range">Range</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-r">lpeg.R</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Set">Set</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-s">lpeg.S</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Variable">Variable</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-v">lpeg.V</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture">capture</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-c">lpeg.C</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture_table">capture_table</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-t">lpeg.Ct</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture_fold">capture_fold</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-f">lpeg.Cf</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture_group">capture_group</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-g">lpeg.Cg</a></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture_constant">capture_constant</a></td>
	<td class="summary">See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-cc">lpeg.Cg</a></td>
	</tr>
</table>
<h2><a href="#Local_Functions">Local Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#throw_error">throw_error (error_code, arg1, arg2, arg3, arg4)</a></td>
	<td class="summary">Prefix all error messages and then throw an error.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#print_table">print_table (node)</a></td>
	<td class="summary">Pretty print a table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#append_pattern">append_pattern (method, container, pattern)</a></td>
	<td class="summary">Append patterns as a ordered choice (+) or as a sequence (*).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WhiteSpacedPattern">WhiteSpacedPattern (match)</a></td>
	<td class="summary">Match literal string surrounded by whitespace</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#assemble_dimension">assemble_dimension ()</a></td>
	<td class="summary">Define data type dimension.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#data_type_integer">data_type_integer ()</a></td>
	<td class="summary">Define data type integer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#assemble_data_type_float">assemble_data_type_float ()</a></td>
	<td class="summary">Define data type integer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_type">get_type (string)</a></td>
	<td class="summary">Extended and TeX specialized version of Lua&rsquo;s type function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#build_key_value_pattern">build_key_value_pattern (key, def)</a></td>
	<td class="summary">Build the Lpeg pattern for a single key value pair.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#build_defaults_table">build_defaults_table (definitions)</a></td>
	<td class="summary">Build a table with the default values.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#build_parser">build_parser (definitions)</a></td>
	<td class="summary">Build a key value parser using Lpeg.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#capture_unkown_key_value_pair">capture_unkown_key_value_pair (key, value)</a></td>
	<td class="summary">Capture unmatched key value pairs to throw errors and warnings.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#generate_parser">generate_parser ()</a></td>
	<td class="summary">Generate a PEG parser to be able to parse key value strings
 like this example:</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#add_to_table">add_to_table (table, arg1, arg2)</a></td>
	<td class="summary">Add values to a table in a two modes:</p>

<p> # Key value pair</p>

<p> If arg1 and arg2 are not nil, then arg1 is the key and arg2 is the
 value of a new table entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#check_definitions">check_definitions (definitions)</a></td>
	<td class="summary">Check the definitions table and throw errors.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#normalize_alias_keys">normalize_alias_keys (defs, raw)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#normalize_complementary_values">normalize_complementary_values (defs, raw)</a></td>
	<td class="summary">Normalize two complementary values into a key and a boolean value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#normalize_one_value">normalize_one_value (raw, defs)</a></td>
	<td class="summary">We have to reindex the table, so we must call ipairs over and over
  again recursively.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "patterns"></a>
    <strong>patterns</strong>
    </dt>
    <dd>
    Data type patterens uncaptured


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">integer</span>

        </li>
        <li><span class="parameter">float</span>

        </li>
        <li><span class="parameter">number</span>

        </li>
        <li><span class="parameter">dimension</span>

        </li>
        <li><span class="parameter">boolean</span>

        </li>
        <li><span class="parameter">string</span>

        </li>
        <li><span class="parameter">string_unquoted</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "captures"></a>
    <strong>captures</strong>
    </dt>
    <dd>
    Captured data types
 patt / function
 Creates a function capture.  It calls the given function passing
 all captures made b nby patt as arguments, or the whole match if
 patt made no capture. The values returned by the function are the
 final values of the capture. In particular, if function returns
 no value, there is no captured value


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">boolean</span>

        </li>
        <li><span class="parameter">number</span>

        </li>
        <li><span class="parameter">integer</span>

        </li>
        <li><span class="parameter">float</span>

        </li>
        <li><span class="parameter">dimension</span>

        </li>
        <li><span class="parameter">string</span>

        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "Pattern"></a>
    <strong>Pattern</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-p">lpeg.P</a>  Like <code>&quot;literal&quot;</code> in peg.js.







</dd>
    <dt>
    <a name = "Range"></a>
    <strong>Range</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-r">lpeg.R</a>  Like <code>[a-z]</code> in peg.js.







</dd>
    <dt>
    <a name = "Set"></a>
    <strong>Set</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-s">lpeg.S</a>  Like <code>[characters]</code> in peg.js.







</dd>
    <dt>
    <a name = "Variable"></a>
    <strong>Variable</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#op-v">lpeg.V</a>







</dd>
    <dt>
    <a name = "capture"></a>
    <strong>capture</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-c">lpeg.C</a>







</dd>
    <dt>
    <a name = "capture_table"></a>
    <strong>capture_table</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-t">lpeg.Ct</a>







</dd>
    <dt>
    <a name = "capture_fold"></a>
    <strong>capture_fold</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-f">lpeg.Cf</a>







</dd>
    <dt>
    <a name = "capture_group"></a>
    <strong>capture_group</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-g">lpeg.Cg</a>







</dd>
    <dt>
    <a name = "capture_constant"></a>
    <strong>capture_constant</strong>
    </dt>
    <dd>
    See <a href="http://www.inf.puc-rio.br/~roberto/lpeg#cap-cc">lpeg.Cg</a>







</dd>
</dl>
    <h2 class="section-header "><a name="Local_Functions"></a>Local Functions</h2>

    <dl class="function">
    <dt>
    <a name = "throw_error"></a>
    <strong>throw_error (error_code, arg1, arg2, arg3, arg4)</strong>
    </dt>
    <dd>
    Prefix all error messages and then throw an error.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">error_code</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         The error code (for example E01)
        </li>
        <li><span class="parameter">arg1</span>
            <span class="types"><span class="type">mixed</span></span>
         Frist argument to pass to string.format() of the error message.
        </li>
        <li><span class="parameter">arg2</span>
            <span class="types"><span class="type">mixed</span></span>
         Second argument to pass to string.format() of the error message.
        </li>
        <li><span class="parameter">arg3</span>
            <span class="types"><span class="type">mixed</span></span>
         Third argument to pass to string.format() of the error message.
        </li>
        <li><span class="parameter">arg4</span>
            <span class="types"><span class="type">mixed</span></span>
         Fourth argument to pass to string.format() of the error message.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "print_table"></a>
    <strong>print_table (node)</strong>
    </dt>
    <dd>
    Pretty print a table.</p>

<p> see https://stackoverflow.com/a/42062321/10193818


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">node</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "append_pattern"></a>
    <strong>append_pattern (method, container, pattern)</strong>
    </dt>
    <dd>
    Append patterns as a ordered choice (+) or as a sequence (*).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">method</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         &lsquo;sequence&rsquo; (*) or &lsquo;choice&rsquo; (+)
        </li>
        <li><span class="parameter">container</span>
            <span class="types"><span class="type">userdata</span></span>
         Container variable
        </li>
        <li><span class="parameter">pattern</span>
            <span class="types"><span class="type">userdata</span></span>
         Lpeg pattern to combine
        </li>
    </ul>





</dd>
    <dt>
    <a name = "WhiteSpacedPattern"></a>
    <strong>WhiteSpacedPattern (match)</strong>
    </dt>
    <dd>
    Match literal string surrounded by whitespace


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">match</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "assemble_dimension"></a>
    <strong>assemble_dimension ()</strong>
    </dt>
    <dd>
    Define data type dimension.



    <h3>Returns:</h3>
    <ol>

        Lpeg patterns
    </ol>




</dd>
    <dt>
    <a name = "data_type_integer"></a>
    <strong>data_type_integer ()</strong>
    </dt>
    <dd>
    Define data type integer.



    <h3>Returns:</h3>
    <ol>

        Lpeg patterns
    </ol>




</dd>
    <dt>
    <a name = "assemble_data_type_float"></a>
    <strong>assemble_data_type_float ()</strong>
    </dt>
    <dd>
    Define data type integer.



    <h3>Returns:</h3>
    <ol>

        Lpeg patterns
    </ol>




</dd>
    <dt>
    <a name = "get_type"></a>
    <strong>get_type (string)</strong>
    </dt>
    <dd>
    Extended and TeX specialized version of Lua&rsquo;s type function.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">string</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         A string to get the type from
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
        The type name like boolean integer
    </ol>




</dd>
    <dt>
    <a name = "build_key_value_pattern"></a>
    <strong>build_key_value_pattern (key, def)</strong>
    </dt>
    <dd>
    Build the Lpeg pattern for a single key value pair.  The resulting
 pattern has to capture two strings.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

        </li>
        <li><span class="parameter">def</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         keys: alias, type
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">userdata</span></span>
        Lpeg patterns etc.
    </ol>




</dd>
    <dt>
    <a name = "build_defaults_table"></a>
    <strong>build_defaults_table (definitions)</strong>
    </dt>
    <dd>
    Build a table with the default values.  They are indexed by the key
 name.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">definitions</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
        defaults
    </ol>




</dd>
    <dt>
    <a name = "build_parser"></a>
    <strong>build_parser (definitions)</strong>
    </dt>
    <dd>
    Build a key value parser using Lpeg.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">definitions</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">parser</span></span>
        The Lpeg parser</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
        defaults</li>
    </ol>




</dd>
    <dt>
    <a name = "capture_unkown_key_value_pair"></a>
    <strong>capture_unkown_key_value_pair (key, value)</strong>
    </dt>
    <dd>
    Capture unmatched key value pairs to throw errors and warnings.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "generate_parser"></a>
    <strong>generate_parser ()</strong>
    </dt>
    <dd>
    <p>Generate a PEG parser to be able to parse key value strings
 like this example:      show,
     hide,
     &ldquo;string,with,commas&rdquo;,
     key with spaces = String without quotes,
     string=&ldquo;String with quotes: ,{}=&rdquo;,
     number = 2,
     float = 1.2,
     list = {one=one,two=two,three=three},
     nested key = {
       nested key 2= {
         key = value,
       },
     },</p>

<p> The string above results in this table:</p>

<pre><code> { "show", "hide", "string,with,commas",
   float = 1.2,
   ["key with spaces"] = "String without quotes",
   number = 2,
   string = "String with quotes: ,{}="
   list = {
     one = "one",
     three = "three",
     two = "two"
   },
   ["nested key"] = {
     ["nested key 2"] = {
       key = "value"
     }
   },
 }
</code></pre>



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">userdata</span></span>
        The parser
    </ol>




</dd>
    <dt>
    <a name = "add_to_table"></a>
    <strong>add_to_table (table, arg1, arg2)</strong>
    </dt>
    <dd>
    Add values to a table in a two modes:</p>

<p> # Key value pair</p>

<p> If arg1 and arg2 are not nil, then arg1 is the key and arg2 is the
 value of a new table entry.</p>

<p> # Index value</p>

<p> If arg2 is nil, then arg1 is the value and is added as an indexed
 (by an integer) value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">table</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>

        </li>
        <li><span class="parameter">arg1</span>
            <span class="types"><span class="type">mixed</span></span>

        </li>
        <li><span class="parameter">arg2</span>
            <span class="types"><span class="type">mixed</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>

    </ol>




</dd>
    <dt>
    <a name = "check_definitions"></a>
    <strong>check_definitions (definitions)</strong>
    </dt>
    <dd>
    Check the definitions table and throw errors.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">definitions</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "normalize_alias_keys"></a>
    <strong>normalize_alias_keys (defs, raw)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defs</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         The key-value defintions.
        </li>
        <li><span class="parameter">raw</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         A raw key-value input returned by the Lpeg parser.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "normalize_complementary_values"></a>
    <strong>normalize_complementary_values (defs, raw)</strong>
    </dt>
    <dd>
    <p>Normalize two complementary values into a key and a boolean value.</p>

<pre><code>   defs = {
     show = {
       complementary = {'show', 'hide'}
     },
   }
</code></pre>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defs</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         The key-value defintions.
        </li>
        <li><span class="parameter">raw</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         A raw key-value input returned by the Lpeg parser.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "normalize_one_value"></a>
    <strong>normalize_one_value (raw, defs)</strong>
    </dt>
    <dd>
    We have to reindex the table, so we must call ipairs over and over
  again recursively.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">raw</span>

        </li>
        <li><span class="parameter">defs</span>

        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2020-07-18 23:14:44 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
