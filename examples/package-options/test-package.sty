\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{test-package}[2022/11/27 Test package to access the package options]
\DeclareOption*{} % suppresses the error message: ! LaTeX Error: Unknown option
\ProcessOptions\relax
\RequirePackage{luakeys}

% Using the macro \LuakeysPackageOptions
\directlua{
  luakeys.debug(luakeys.parse('\LuakeysPackageOptions'))
}

% Using the macro \LuakeysSavePackageOptions
\LuakeysSavePackageOptions{test-package}
\directlua{
  luakeys.debug(luakeys.parse(luakeys.get('test-package')))
}

% Low level approach
\directlua{
  luakeys.debug(luakeys.parse('\luaescapestring{\@ptionlist{\@currname.\@currext}}'))
}
